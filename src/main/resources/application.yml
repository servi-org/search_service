spring:
  application:
    name: search-service

  # Configuración de Kafka Consumer
  kafka:
    bootstrap-servers: ${KAFKA_BOOTSTRAP_SERVERS:localhost:9092}
    consumer:
      group-id: search-service-group
      auto-offset-reset: earliest
      key-deserializer: org.apache.kafka.common.serialization.UUIDDeserializer
      value-deserializer: org.springframework.kafka.support.serializer.JsonDeserializer
      properties:
        spring:
          json:
            trusted:
              packages: "*"
    properties:
      sasl:
        mechanism: ${KAFKA_SASL_MECHANISM:PLAIN}
        jaas:
          config: ${KAFKA_SASL_JAAS_CONFIG:}
      security:
        protocol: ${KAFKA_SECURITY_PROTOCOL:SASL_SSL}
      session:
        timeout:
          ms: ${KAFKA_SESSION_TIMEOUT_MS:45000}

# Configuración del servidor
server:
  port: ${SERVER_PORT:8081}  # Puerto diferente al backend_java
  error:
    include-message: always
    include-binding-errors: always

# Logs
logging:
  level:
    "[live.servi.search]": ${LOG_LEVEL:INFO}
    "[org.springframework.kafka]": INFO
    "[com.algolia]": INFO

#kafka
kafka:
  bootstrap-servers: ${KAFKA_BOOTSTRAP_SERVERS:localhost:9092}
  topic-service-events: ${KAFKA_TOPIC_SERVICE_EVENTS:service-events}

# Algolia
algolia:
  application-id: ${ALGOLIA_APPLICATION_ID} 
  api-key: ${ALGOLIA_API_KEY}               
  index-name: ${ALGOLIA_INDEX_NAME:services}

# JWT
jwt:
  secret: ${JWT_SECRET} 
  
# CORS Configuration
cors:
  allowed-origins: ${CORS_ALLOWED_ORIGINS:http://localhost:5173,http://localhost:3000}
